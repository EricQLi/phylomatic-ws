<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta content="application/xhtml+xml; charset=utf-8" http-equiv="content-type"/>
	<link rel="stylesheet" href="css/default.css" type="text/css" />
	<title>Phylomatic (v3)</title>
	<!-- <link rel="stylesheet" type="text/css" href="xsl/xmalesia.css" /> -->
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-34325512-1']);
	  _gaq.push(['_trackPageview']);
	  (function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; 
	  ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
	</script>
  </head>
  <body>
	<div style="position:absolute;right:20px;top:20px">[ <a href="html/documentation.html">documentation</a> ]</div>
	<h1>Phylomatic</h1>
	<p style="font-size:12px">
	  <b>Version 3</b>. This form sends data to the underlying
	  web-service.  To call the service directly, either GET or POST
	  (for sending large trees) the paramenters (named exactly as on
	  this form, requirement as per italics) to
	  <code>http://phylodiversity.net/phylomatic/pmws</code>. This is a new tool (2012-08-23), so <i>please</i> <a href="mailto:cwebb@oeb.harvard.edu">let me know</a> if it is not working, or if you have comments.  Thanks to the NESCent <a href="http://phylotastic.org"><img style="vertical-align:middle;" src="html/img/phylotastic.png" height="20px" alt="PhyloTastic!"/></a> hackathon for impetus and encouragement for upgrading. 
	</p>	  
	<form method="post" action="pmws">
	  <table>
		<tr>
		  <td colspan="3"><hr/></td>
		</tr>
		<tr>
		  <td><code>tree</code> =</td>
		  <td>
			<textarea cols="50" rows="5" name="tree"></textarea>
		  </td>
		  <td style="font-size:12px;"><i>Mandatory option</i>. Paste in your megatree here (&lt;100kB)</td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>treeuri</code> =</td>
		  <td>
			<input name="treeuri" type="text" size="50"/>
		  </td>
		  <td style="font-size:12px;"><i>Mandatory option</i>. URL of a tree online (&lt;20MB)</td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>storedtree</code>&#160;=</td>
		  <td>
			<select name="storedtree">
			  <option selected="selected" value=""></option>
			  <option value="R20120829">R20120829 (Phylomatic tree
              R20120829 for plants)</option>
			  <option value="smith2011">smith2011 (Smith 2011, plants)</option>
			  <!-- <option value="slik2015">slik2015 (Ferry Slik, all plant
              genera)</option> -->
			  <option value="binindaemonds2007">binindaemonds2007
              (Bininda-Emonds 2007, mammals)</option>
			</select>	
		  </td>
		  <td style="font-size:12px;"><i>Mandatory option</i>. Locally stored <a href="https://github.com/camwebb/tree-of-trees/tree/master/megatrees">tree-of-trees megatrees</a>, in newick format</td>
		</tr>
		<tr>
		  <td><code>informat</code> =</td>
		  <td>
			<select name="informat">
			  <option value="newick" selected="selected">newick</option>
			  <option value="nexml">nexml</option>
			  <option value="cdaordf">cdaordf</option>
			</select>	
		  </td>
		  <td style="font-size:12px;"><i>Mandatory</i>. Either a single newick tree: <code>(...);</code>, or <a href="http://www.nexml.org/">NeXML</a>, or a <a href="http://sourceforge.net/apps/mediawiki/cdao/index.php">CDAO</a> tree in XMLRDF (see <a href="eg/tree1.cdao.rdf">sample</a>)</td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>

		<tr>
		  <td><code>method</code> =</td>
		  <td>
			<input type="radio" name="method" value="convert"/>
			<code>convert</code>
		  </td>
		  <td style="font-size:12px;"><i>Mandatory</i>. Convert an input format to an output format</td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>

		<tr>
		  <td><code>method</code> =</td>
		  <td>
			<input type="radio" name="method" value="phylomatic" checked="checked" />
			<code>phylomatic</code>
		  </td>
		  <td style="font-size:12px;"><i>Mandatory</i>. Graft your taxa into the megatree, and then prune the megatree to just your taxa</td>
		</tr>
		<tr>
		  <td><code>taxa</code> =</td>
		  <td>
			<textarea cols="50" rows="5" name="taxa"></textarea>
		  </td>
		  <td style="font-size:12px;"><i>Dependent mandatory
		  option</i>. Slash-delimited node paths, with returns between
		  each taxon (see <a
		  href="http://phylodiversity.net/phylocom/phylocom_manual.pdf">phylomatic
		  documentation</a>, or <a
		  href="eg/taxa_sample">sample</a>). <i>Please note: at the
		  moment, using internal names (e.g. genera) in the megatree
		  as terminal names in your input list will cause the system
		  to hang; please use terminal 'dummy species,' even if your
		  goal is a genus or family tree.</i></td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>taxauri</code> =</td>
		  <td>
			<input name="taxauri" type="text" size="50"/>
		  </td>
		  <td style="font-size:12px;"><i>Dependent mandatory
          option</i>. URL of a taxa list online (&lt;5MB)
		  </td>
		</tr>
		<tr>
		  <td><code>taxaformat</code> =</td>
		  <td>
			<select name="taxaformat">
			  <option value="slashpath" selected="selected">slashpath</option>
			</select>	
		  </td>
		  <td style="font-size:12px;"><i>Dependent mandatory</i> (not yet)</td>
		</tr>
		<tr>
		  <td><code>clean</code> =</td>
		  <td>
			<input type="checkbox" name="clean" value="true"/> <code>true</code>
		  </td>
		  <td style="font-size:12px;"><i>Dependent optional</i>.Strip all single-descendent nodes</td>
		</tr>

		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>outformat</code> =</td>
		  <td>
			<select name="outformat">
			  <option value="newick" selected="selected">newick</option>
			  <option value="nexml">nexml</option>
			  <option value="fyt">fyt</option>
			</select>	
		  </td>
		  <td style="font-size:12px;"><i>Mandatory</i></td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>
			
		<tr>
		  <td>&#160;</td>
		  <td>
			<input type="reset" value="Reset"/>
			<input type="submit" value="Send"/>
		  </td>
		  <td>&#160;</td>
		</tr>
	  </table>
	</form>
  </body>
</html>
