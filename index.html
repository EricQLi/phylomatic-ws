<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta content="application/xhtml+xml; charset=utf-8" http-equiv="content-type"/>
	<link rel="stylesheet" href="css/default.css" type="text/css" />
	<title>Phylomatic (v3)</title>
	<!-- <link rel="stylesheet" type="text/css" href="xsl/xmalesia.css" /> -->
  </head>
  <body>
	<div style="position:absolute;right:20px;top:20px">[ <a href="html/pm2_form.html">old version</a> | <a href="html/documentation.html">documentation</a> ]</div>
	<h1>Phylomatic version 3</h1>
	<p style="font-size:12px">
	  This form sends data to the underlying
	  web-service.  To call the service directly, either GET or POST
	  (for sending large trees) the paramenters (named exactly as on
	  this form) to
	  <code>http://phylodiversity.net/phylomatic3/pmws</code>. This is a new tool, so <i>please</i> let me know if it is not working, or if you have comments (<a href="mailto:cwebb@oeb.harvard.edu">email</a>).  Thanks to the NESCent <a href="http://phylotastic.org"><img style="vertical-align:middle;" src="html/img/phylotastic.png" height="20px" alt="PhyloTastic!"/></a> project for impetus and encouragement for making this upgrade. 
	</p>	  
	<form method="post" action="pmws">
	  <table>
		<tr>
		  <td colspan="3"><hr/></td>
		</tr>
		<tr>
		  <td><code>tree</code> =</td>
		  <td>
			<textarea cols="50" rows="5" name="tree"></textarea>
		  </td>
		  <td style="font-size:12px;">Paste in your megatree here (&lt;100kB)</td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>treeuri</code> =</td>
		  <td>
			<input name="treeuri" type="text" size="50"/>
		  </td>
		  <td style="font-size:12px;">URL of a tree online (&lt;20MB)</td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>storedtree</code>&#160;=</td>
		  <td>
			<select name="storedtree">
			  <option selected="selected" value=""></option>
			  <option value="R20100701">Phylomatic tree R20100701 (plants)</option>
			  <option value="smith2011">Smith 2011 (plants)</option>
			  <option value="binindaemonds2007">Bininda-Emonds 2007 (mammals)</option>
			</select>	
		  </td>
		  <td style="font-size:12px;">locally stored <a href="https://github.com/camwebb/tree-of-trees/tree/master/megatrees">tree-of-trees megatrees</a>, in newick format</td>
		</tr>
		<tr>
		  <td><code>informat</code> =</td>
		  <td>
			<select name="informat">
			  <option value="newick" selected="selected">newick</option>
			  <option value="nexml">nexml</option>
			  <option value="cdaordf">cdaordf</option>
			</select>	
		  </td>
		  <td style="font-size:12px;">either a single new tree: <code>(...);</code>, or <a href="http://www.nexml.org/">NeXML</a>, or a <a href="http://sourceforge.net/apps/mediawiki/cdao/index.php">CDAO</a> tree in XMLRDF (see <a href="eg/tree1.cdao.rdf">sample</a>)</td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>

		<tr>
		  <td><code>method</code> =</td>
		  <td>
			<input type="radio" name="method" value="convert"/>
			<code>convert</code>
		  </td>
		  <td style="font-size:12px;">Convert an input format to an output format</td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>

		<tr>
		  <td><code>method</code> =</td>
		  <td>
			<input type="radio" name="method" value="phylomatic" checked="checked" />
			<code>phylomatic</code>
		  </td>
		  <td style="font-size:12px;">Graft your taxa into the megatree, and then prune the megatree to just your taxa</td>
		</tr>
		<tr>
		  <td><code>taxa</code> =</td>
		  <td>
			<textarea cols="50" rows="5" name="taxa"></textarea>
		  </td>
		  <td style="font-size:12px;">Slash-delimited node paths, with returns between each taxon (see <a href="http://phylodiversity.net/phylocom/phylocom_manual.pdf">phylomatic documentation</a>)</td>
		</tr>
		<tr>
		  <td>&#160;</td>

		  <td><i>or</i></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>taxauri</code> =</td>
		  <td style="font-size:12px;">(not yet)
			<!-- <input name="taxauri" type="text" size="50"/> -->
		  </td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>taxaformat</code> =</td>
		  <td>
			<select name="taxaformat">
			  <option value="slashpath" selected="selected">slashpath</option>
			</select>	
		  </td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>clean</code> =</td>
		  <td>
			<input type="checkbox" name="clean" value="true"/> <code>true</code>
		  </td>
		  <td style="font-size:12px;">Strip all single-descendent nodes</td>
		</tr>

		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>
		<tr>
		  <td><code>outformat</code> =</td>
		  <td>
			<select name="outformat">
			  <option value="newick" selected="selected">newick</option>
			  <option value="fyt">fyt</option>
			</select>	
		  </td>
		  <td style="font-size:12px;">... more to come!</td>
		</tr>
		<tr>
		  <td colspan="2"><hr/></td>
		  <td>&#160;</td>
		</tr>
			
		<tr>
		  <td>&#160;</td>
		  <td>
			<input type="reset" value="Reset"/>
			<input type="submit" value="Send"/>
		  </td>
		  <td>&#160;</td>
		</tr>
	  </table>
	</form>
  </body>
</html>
